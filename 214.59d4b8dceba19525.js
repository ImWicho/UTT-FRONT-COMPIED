"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[214],{1214:(H,p,o)=>{o.r(p),o.d(p,{MainModule:()=>D});var g=o(9808),i=o(2302),h=o(7618),t=o(5e3),f=o(7932);let S=(()=>{class e{constructor(n,s){this.dataSvc=n,this.router=s}canLoad(n){const s=this.dataSvc.isAllowed(n.path);return s||this.router.navigate(["/main"]),s}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(f.D),t.LFG(i.F0))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var c=o(5856),u=o(5294),T=o(8929);let Z=(()=>{class e{constructor(){this.toggle=new T.xQ}get toggle$(){return this.toggle}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var l=o(6727),y=o(2340),A=o(520);let O=(()=>{class e{constructor(n){this.http=n}onGetUser(){return this.http.get(`${y.N.API_URL}/api/v1/user`)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(A.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var d=o(8561),C=o(7423),M=o(5245);function x(e,a){if(1&e&&(t.TgZ(0,"div",9),t.TgZ(1,"button",10),t._UZ(2,"mat-icon",11),t._uU(3),t.qZA(),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.Q6J("routerLink",n.path),t.xp6(1),t.Q6J("svgIcon",n.icon),t.xp6(1),t.hij(" ",n.name," ")}}let U=(()=>{class e{constructor(n){this.store=n}ngOnInit(){this.sub=this.store.select("user").subscribe(n=>this.user=n.user)}ngOnDestroy(){this.sub.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(l.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-sidenav"]],decls:12,vars:3,consts:[[1,"row","center-xs",2,"margin","64px 0"],[1,"col",2,"width","90%"],[1,"row","middle-xs","center-xs"],[1,"col-xs-5"],["src","assets/img/pet.png","alt","","srcset","",1,"img-responsive"],[1,"row"],[1,"col-xs-12","info"],[1,"col-xs-12","middle-xs"],["class","row space",4,"ngFor","ngForOf"],[1,"row","space"],["mat-flat-button","","color","primary",1,"col-xs-12","icon-nav",3,"routerLink"],[3,"svgIcon"]],template:function(n,s){1&n&&(t.TgZ(0,"div"),t.TgZ(1,"div",0),t.TgZ(2,"div",1),t.TgZ(3,"div",2),t.TgZ(4,"div",3),t._UZ(5,"img",4),t.qZA(),t.qZA(),t.TgZ(6,"div",5),t.TgZ(7,"div",6),t._uU(8),t.qZA(),t.TgZ(9,"div",7),t._uU(10),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(11,x,4,3,"div",8),t.qZA()),2&n&&(t.xp6(8),t.Oqu(null==s.user?null:s.user.email),t.xp6(2),t.Oqu(null==s.user||null==s.user.area?null:s.user.area.name),t.xp6(1),t.Q6J("ngForOf",null==s.user||null==s.user.area?null:s.user.area.views))},directives:[g.sg,C.lW,i.rH,M.Hw],styles:[".info[_ngcontent-%COMP%]{padding:10px;font-size:20px;white-space:pre-wrap;word-wrap:break-word}img[_ngcontent-%COMP%]{padding:5px 0;border-radius:5px;background-color:#009a7c}.space[_ngcontent-%COMP%]{margin:10px 0}.icon-nav[_ngcontent-%COMP%]{text-align:left!important;padding-left:30px!important}"]}),e})();var F=o(7991),b=o(6518),L=o(1443),R=o(4594),m=o(2531);let Y=(()=>{class e{constructor(n,s,r,v){this.sideNavService=n,this.authService=s,this.toastService=r,this.router=v}ngOnInit(){}toogleSideNav(){this.sideNavService.toggle$.next()}onLogOut(){this.authService.onLogOut().subscribe(()=>{this.toastService.addToast({title:"Hasta la pr\xf3xima",timeOut:3e3,type:F.d.SUCCESS,description:"Vuelve pronto.",useDefaultImage:!1,resource:"assets/img/pet.png"}),this.router.navigate(["/auth/login"])})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(Z),t.Y36(b.e),t.Y36(L.k),t.Y36(i.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-toolbar"]],inputs:{isSmall:"isSmall"},decls:11,vars:1,consts:[["color","primary"],["mat-icon-button","",3,"click"],["svgIcon","menu"],[1,"spacer"],["mat-icon-button","",3,"matMenuTriggerFor"],["svgIcon","account-circle"],["menu","matMenu"],["mat-menu-item","",3,"click"],["svgIcon","exit-to-app"]],template:function(n,s){if(1&n&&(t.TgZ(0,"mat-toolbar",0),t.TgZ(1,"button",1),t.NdJ("click",function(){return s.toogleSideNav()}),t._UZ(2,"mat-icon",2),t.qZA(),t._UZ(3,"span",3),t.TgZ(4,"button",4),t._UZ(5,"mat-icon",5),t.qZA(),t.TgZ(6,"mat-menu",null,6),t.TgZ(8,"button",7),t.NdJ("click",function(){return s.onLogOut()}),t._UZ(9,"mat-icon",8),t._uU(10,"Cerrar sesi\xf3n"),t.qZA(),t.qZA(),t.qZA()),2&n){const r=t.MAs(7);t.xp6(4),t.Q6J("matMenuTriggerFor",r)}},directives:[R.Ye,C.lW,M.Hw,m.p6,m.VK,m.OP],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),e})();var I=o(257);const J=["matDrawer"],w=[{path:"",component:(()=>{class e{constructor(n,s,r,v){this.sidenavService=n,this.store=s,this.userService=r,this.dataService=v,this.isSmall=!1}ngOnInit(){this.store.select("ui").subscribe(n=>this.isSmall=n.isResponsive),this.sidenavService.toggle$.subscribe(()=>this.drawer.toggle()),this.store.dispatch((0,u.hg)()),this.userService.onGetUser().subscribe(n=>{this.store.dispatch((0,c.J)({user:n})),this.store.dispatch((0,u.Vg)()),this.dataService.onSaveCookie("views",JSON.stringify(n.area.views.map(s=>s.path)))},n=>{this.store.dispatch((0,u.Vg)())})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(Z),t.Y36(l.yh),t.Y36(O),t.Y36(f.D))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-main"]],viewQuery:function(n,s){if(1&n&&t.Gf(J,5),2&n){let r;t.iGM(r=t.CRH())&&(s.drawer=r.first)}},decls:8,vars:3,consts:[["color","primary",3,"mode","opened"],["matDrawer",""],["color","primary"],[3,"isSmall"]],template:function(n,s){1&n&&(t.TgZ(0,"mat-drawer-container"),t.TgZ(1,"mat-drawer",0,1),t._UZ(3,"app-sidenav",2),t.qZA(),t.TgZ(4,"mat-drawer-content"),t._UZ(5,"app-toolbar",3),t._UZ(6,"router-outlet"),t.qZA(),t.qZA(),t._UZ(7,"app-toast")),2&n&&(t.xp6(1),t.Q6J("mode",s.isSmall?"over":"side")("opened",!s.isSmall),t.xp6(4),t.Q6J("isSmall",s.isSmall))},directives:[d.kh,d.jA,U,d.LW,Y,i.lC,I.q],styles:["mat-drawer-container[_ngcontent-%COMP%]{height:100%;min-height:100vh}mat-drawer[_ngcontent-%COMP%]{width:250px;border:none}"]}),e})(),children:[{path:"docs",loadChildren:()=>Promise.all([o.e(67),o.e(143)]).then(o.bind(o,8143)).then(e=>e.DocModule),canLoad:[h.a,S]},{path:"request",loadChildren:()=>Promise.all([o.e(67),o.e(938)]).then(o.bind(o,5938)).then(e=>e.RequestModule),canLoad:[h.a,S]}]}];let P=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[i.Bz.forChild(w)],i.Bz]}),e})();var G=o(933),N=o(9995);const Q=(0,l.Lq)({user:null},(0,l.on)(c.J,(e,{user:a})=>Object.assign(Object.assign({},e),{user:a})),(0,l.on)(c.k,e=>Object.assign(Object.assign({},e),{user:null}))),z=(e,a)=>Q(e,a);let D=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[g.ez,P,N.q,G.q,l.Aw.forFeature("user",z)]]}),e})()}}]);